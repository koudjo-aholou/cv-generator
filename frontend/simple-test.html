<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Test Ultra Simple</title>
    <style>
        body { font-family: Arial; padding: 20px; background: #f0f0f0; }
        .box { background: white; padding: 20px; margin: 10px 0; border: 2px solid #0073b1; }
        file-uploader {
            display: block;
            background: yellow;
            min-height: 100px;
            border: 3px solid red;
            padding: 20px;
        }
    </style>
</head>
<body>
    <h1>üß™ Test Ultra Simple Web Component</h1>

    <div class="box">
        <h2>Zone 1: HTML Statique (doit √™tre visible)</h2>
        <p>Si tu vois ce texte, le HTML fonctionne ‚úÖ</p>
    </div>

    <div class="box">
        <h2>Zone 2: Web Component ici üëá</h2>
        <file-uploader id="test-uploader"></file-uploader>
        <p>üëÜ Le composant doit appara√Ætre au-dessus avec fond jaune et bordure rouge</p>
    </div>

    <div class="box" id="debug">
        <h2>Zone 3: Debug Info</h2>
        <div id="info"></div>
    </div>

    <script type="module">
        const info = document.getElementById('info');

        // Test 1: Script module fonctionne
        info.innerHTML += '<p>‚úÖ Script module fonctionne</p>';

        // Test 2: Import du composant
        try {
            await import('./js/ui/components/file-uploader.js');
            info.innerHTML += '<p>‚úÖ file-uploader.js import√©</p>';
        } catch(e) {
            info.innerHTML += `<p style="color:red">‚ùå Import error: ${e.message}</p>`;
            console.error(e);
        }

        // Test 3: V√©rifier le composant
        setTimeout(() => {
            const uploader = document.getElementById('test-uploader');

            info.innerHTML += `<p>Composant trouv√©: ${uploader ? 'OUI ‚úÖ' : 'NON ‚ùå'}</p>`;

            if (uploader) {
                info.innerHTML += `<p>innerHTML length: ${uploader.innerHTML.length} caract√®res</p>`;
                info.innerHTML += `<p>childNodes: ${uploader.childNodes.length}</p>`;
                info.innerHTML += `<p>Style display: ${getComputedStyle(uploader).display}</p>`;
                info.innerHTML += `<p>Style background: ${getComputedStyle(uploader).background}</p>`;

                if (uploader.innerHTML.length > 0) {
                    info.innerHTML += '<p style="color:green; font-weight:bold">‚úÖ LE COMPOSANT A DU CONTENU!</p>';
                } else {
                    info.innerHTML += '<p style="color:red; font-weight:bold">‚ùå LE COMPOSANT EST VIDE!</p>';
                }

                // Afficher le contenu
                info.innerHTML += '<details><summary>Voir le HTML du composant</summary><pre>' +
                    uploader.innerHTML.substring(0, 500).replace(/</g, '&lt;') +
                    '</pre></details>';
            }
        }, 1000);
    </script>
</body>
</html>
